/*! Carousel v1.0.0 | (c) 2021 tyler-vs | MIT License | https://github.com/tyler-vs/w3schools-carousel/ */
"use strict";function t(t,e){if(!t)throw new InvalidSelectorError("A selector is required!");if(this.carousel="string"==typeof t?document.querySelector(t):t,!this.carousel)return console.error("Error, no carousel element found! Bail!"),!1;this.defaults={wrap:!1,interval:1e3,initialSlideIndex:1,slideWidth:null,useFade:!0,classes:{initialized:"carousel--init"},selectors:{playButton:".button--play",nextButton:".button--next",prevButton:".button--prev",pauseButton:".button--pause",slideToButtons:"[data-slide-to]",slides:".carousel-item"},before:function(){console.log("before")},after:function(){console.log("after")}},this.settings=Object.assign({},this.defaults,e),Object.freeze(this.settings),this.init=this.init.bind(this),this.init()}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),t.prototype.toString=function(){return`carousel: ${this.carousel}, settings: ${this.settings}`},t.prototype.init=function(){this.settings.before(this.carousel),this.slideIndex=null,this.sliderInterval=null,this.slides=this.carousel.querySelectorAll(this.settings.selectors.slides),!this.slides.length>0&&console.log("Error. No slide elements found."),this.settings.useFade&&this.slides.length>0&&this.slides.forEach((t=>{this.addClass(t,["fade","fader","bounce"])})),this.playButton=this.carousel.querySelector(this.settings.selectors.playButton),this.nextButton=this.carousel.querySelector(this.settings.selectors.nextButton),this.prevButton=this.carousel.querySelector(this.settings.selectors.prevButton),this.pauseButton=this.carousel.querySelector(this.settings.selectors.pauseButton),this.slideToButtons=this.carousel.querySelectorAll(this.settings.selectors.slideToButtons),this.wrap=this.settings.wrap,this.interval=this.settings.interval,this.slideIndex=this.settings.initialSlideIndex,this.slideWidth=this.settings.slideWidth,this.lastSlideIndex=this.initialSlideIndex,this.play=this.play.bind(this),this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.pause=this.pause.bind(this),this.showSlide=this.showSlide.bind(this),this.addEventListeners(),this.showSlide(this.slideIndex),null==this.slideWidth&&null==this.slideWidth||(this.carousel.style.maxWidth=`${this.slideWidth}px`),(null!=this.settings.classes.initialized||null!=this.settings.classes.initialized&&!this.carousel.classList.contains(this.settings.classes.initialized))&&this.carousel.classList.add(this.settings.classes.initialized),this.settings.after(this.carousel)},t.prototype.addEventListeners=function(){this.playButton.addEventListener("click",this.play),this.nextButton.addEventListener("click",this.nextSlide),this.prevButton.addEventListener("click",this.prevSlide),this.pauseButton.addEventListener("click",this.pause),this.slideToButtons.length>0&&this.slideToButtons.forEach((t=>{t.addEventListener("click",(t=>{this.selectSlide(Number(t.target.dataset.slideTo))}))}))},t.prototype.addClass=function(t,e){const s=[].concat(e);s.length>0&&s.forEach((e=>{t.classList.add(e)}))},t.prototype.getSlider=function(){return this.carousel},t.prototype.showSlide=function(t){var e;if(t>this.slides.length){if(1!=this.wrap)return void(this.slideIndex=this.slides.length);this.slideIndex=1}if(t<1){if(1!=this.wrap)return void(this.slideIndex=1);this.slideIndex=this.slides.length}for(e=0;e<this.slides.length;e++)this.slides[e].style.display="none";this.slides[this.slideIndex-1].style.display="block";!function(t,e={},s=document){if(!t)return;let i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});s.dispatchEvent(i)}("carousel::slide",{direction:this.lastSlideIndex>this.slideIndex?"backwards":"forward",from:this.lastSlideIndex,to:this.slideIndex},this.carousel),this.lastSlideIndex=this.slideIndex},t.prototype.pause=function(){console.count("pause()"),clearInterval(this.sliderInterval)},t.prototype.prevSlide=function(){this.showSlide(this.slideIndex+=-1)},t.prototype.nextSlide=function(){this.showSlide(this.slideIndex+=1)},t.prototype.play=function(){console.count("play()"),this.sliderInterval=setInterval((()=>{this.nextSlide()}),this.interval)},t.prototype.selectSlide=function(t){this.showSlide(this.slideIndex=t)},module.exports=t;
